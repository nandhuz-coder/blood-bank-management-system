"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[245],{641:(e,a,s)=>{s.d(a,{A:()=>c});s(5043);var n=s(9882),t=s(9456),l=s(6462),i=s(2145),o=s(3780),d=s(579);const c=()=>{const{user:e}=(0,t.d4)((e=>e.auth)),a=(0,t.wA)(),s=(0,l.Zp)(),c=e=>{let{closeToast:a}=e;return(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{className:"btn btn-sm btn-danger me-2",onClick:()=>{r(!0),a()},children:"Yes"}),(0,d.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:a,children:"No"})]})},r=e=>{e?(a((0,o.r)()),i.oR.success("Logged out successfully!"),s("/login")):i.oR.dismiss()};return(0,d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light shadow-sm p-2",children:(0,d.jsxs)("div",{className:"container-fluid d-flex justify-content-between align-items-center",children:[(0,d.jsxs)("div",{className:"navbar-brand d-flex align-items-center",children:[(0,d.jsx)(n.jD9,{color:"red",size:28,className:"me-2"}),(0,d.jsx)("span",{className:"fw-bold",children:"Blood Bank App"})]}),(0,d.jsxs)("ul",{className:"navbar-nav d-flex align-items-center",children:[(0,d.jsx)("li",{className:"nav-item mx-3",children:(0,d.jsxs)("span",{className:"nav-link d-flex align-items-center",children:[(0,d.jsx)(n.Z31,{size:22,className:"me-1"}),(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.hospitalName)," \xa0",(0,d.jsx)("span",{className:"badge bg-secondary",children:null===e||void 0===e?void 0:e.role})]})}),(0,d.jsx)("li",{className:"nav-item mx-3",children:(0,d.jsx)(l.N_,{to:"/",className:"nav-link",children:"Home"})}),(0,d.jsx)("li",{className:"nav-item mx-3",children:(0,d.jsx)("button",{className:"btn btn-danger",onClick:()=>{i.oR.warn("Are you sure you want to logout?",{position:"top-center",autoClose:!1,closeOnClick:!1,draggable:!1,closeButton:e=>(0,d.jsx)(c,{...e})})},children:"Logout"})})]})]})})}},6245:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var n=s(5043),t=s(9456),l=s(9285),i=s(406),o=s(6462),d=s(7762);const c=e=>{let{user:a,donationDate:s,hospital:n}=e;(()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),l=new Image;l.src="/IMG-20250323-WA0085.jpg",l.onload=()=>{e.width=l.width,e.height=l.height,t.drawImage(l,0,0,e.width,e.height),t.font="bold 48px Arial",t.fillStyle="Black",t.textAlign="center",t.fillText(a,e.width/2,450),t.font="italic 20px Arial",t.fillText(`Hospital: ${n}, Donation Date: ${new Date(s).toLocaleDateString()}`,e.width/2,490),t.font="italic 20px Arial",t.fillText("Together, we save lives!",e.width/2,860);const i=e.toDataURL("image/png"),o=new d.uE("landscape","mm","a4");o.addImage(i,"PNG",0,0,297,210),o.save(`Blood_Donation_Certificate_${a}.pdf`)}})()};var r=s(579);const h=()=>{const{user:e}=(0,t.d4)((e=>e.auth)),[a,s]=(0,n.useState)([]),d=(0,o.Zp)();(0,n.useEffect)((()=>{i.A.get("/inventory/donation-history").then((e=>{e.data.success&&e.data.data?s(e.data.data):s([])})).catch((e=>{console.error("There was an error fetching the donation history!",e)}))}),[]);return(0,r.jsx)(l.A,{children:(0,r.jsx)("div",{className:"container mt-4",children:(0,r.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,r.jsxs)("h1",{children:["Welcome ",(0,r.jsx)("i",{className:"text-success",children:null===e||void 0===e?void 0:e.name})]}),(0,r.jsx)("h3",{children:"Blood Donor"}),(0,r.jsx)("hr",{className:"w-100"}),(0,r.jsx)("h4",{children:"Donation History"}),0===a.length?(0,r.jsx)("p",{children:"No records available"}):(0,r.jsxs)("table",{className:"table mt-3",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Hospital Name"}),(0,r.jsx)("th",{children:"Address"}),(0,r.jsx)("th",{children:"Date"}),(0,r.jsx)("th",{children:"Download"})]})}),(0,r.jsx)("tbody",{children:a.map(((a,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:a.hospitalName||"N/A"}),(0,r.jsx)("td",{children:a.address||"N/A"}),(0,r.jsx)("td",{children:a.donatedDate?new Date(a.donatedDate).toLocaleDateString():"N/A"}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"btn btn-primary",onClick:()=>{return s=a.donatedDate,n=a.hospitalName,void c({user:e.name,donationDate:s,hospital:n});var s,n},children:"Download"})})]},s)))})]}),(0,r.jsxs)("p",{className:"mt-4",children:["Happy donating"," ",(0,r.jsx)("button",{onClick:()=>d("/donation"),style:{cursor:"pointer",background:"none",border:"none",padding:0,color:"red"},children:"Blood!"})]})]})})})}},9285:(e,a,s)=>{s.d(a,{A:()=>d});s(5043);var n=s(641),t=s(9456),l=s(6462),i=s(579);const o=()=>{const e=(0,l.zy)(),{user:a}=(0,t.d4)((e=>e.auth));return(0,i.jsx)("div",{className:"sidebar",children:(0,i.jsx)("div",{className:"menu",children:({donor:[{path:"/donation",name:"Donation",icon:"fa-solid fa-hand-holding-medical"}],hospital:[{path:"/consumer",name:"Consumer",icon:"fa-solid fa-hospital"}],admin:[{path:"/donor-list",name:"Donor List",icon:"fa-solid fa-hand-holding-medical"},{path:"/hospital-list",name:"Hospital List",icon:"fa-solid fa-hospital"}]}[null===a||void 0===a?void 0:a.role]||[]).map((a=>(0,i.jsxs)("div",{className:"menu-item "+(e.pathname===a.path?"active":""),children:[(0,i.jsx)("i",{className:a.icon}),(0,i.jsx)(l.N_,{to:a.path,children:a.name})]},a.path)))})})},d=e=>{let{children:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"header fixed-top shadow-sm bg-light",children:(0,i.jsx)(n.A,{})}),(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsx)("div",{className:"sidebar",children:(0,i.jsx)(o,{})}),(0,i.jsx)("div",{className:"content col-md-9",children:a})]})]})}}}]);
//# sourceMappingURL=245.62987193.chunk.js.map