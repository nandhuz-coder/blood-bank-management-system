{"version":3,"file":"static/js/245.62987193.chunk.js","mappings":"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","sources":["components/shared/Layout/Header.js","components/shared/download/generate.js","pages/Dashboard/DonorPage.js","components/shared/Layout/Sidebar.js","components/shared/Layout/Layout.js"],"sourcesContent":["import React from 'react';\r\nimport { BiDonateBlood, BiUserCircle } from 'react-icons/bi';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { logout } from '../../../redux/features/auth/authSlice';\r\n\r\nconst Header = () => {\r\n  const { user } = useSelector(state => state.auth);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const CustomCloseButton = ({ closeToast }) => (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-sm btn-danger me-2\"\r\n        onClick={() => {\r\n          confirmLogout(true); // Logout\r\n          closeToast(); // Close the toast\r\n        }}\r\n      >\r\n        Yes\r\n      </button>\r\n      <button className=\"btn btn-sm btn-secondary\" onClick={closeToast}>\r\n        No\r\n      </button>\r\n    </div>\r\n  );\r\n  const handleLogout = () => {\r\n    toast.warn(\"Are you sure you want to logout?\", {\r\n      position: \"top-center\",\r\n      autoClose: false,\r\n      closeOnClick: false,\r\n      draggable: false,\r\n      closeButton: (props) => <CustomCloseButton {...props} />,\r\n    });\r\n  };\r\n\r\n\r\n  const confirmLogout = (confirm) => {\r\n    if (confirm) {\r\n      dispatch(logout());\r\n      toast.success(\"Logged out successfully!\");\r\n      navigate(\"/login\");\r\n    } else {\r\n      toast.dismiss();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className='navbar navbar-expand-lg navbar-light bg-light shadow-sm p-2'>\r\n      <div className='container-fluid d-flex justify-content-between align-items-center'>\r\n        <div className='navbar-brand d-flex align-items-center'>\r\n          <BiDonateBlood color='red' size={28} className=\"me-2\" />\r\n          <span className=\"fw-bold\">Blood Bank App</span>\r\n        </div>\r\n\r\n        <ul className='navbar-nav d-flex align-items-center'>\r\n          <li className='nav-item mx-3'>\r\n            <span className='nav-link d-flex align-items-center'>\r\n              <BiUserCircle size={22} className=\"me-1\" />\r\n              {user?.name || user?.hospitalName} &nbsp;\r\n              <span className=\"badge bg-secondary\">{user?.role}</span>\r\n            </span>\r\n          </li>\r\n\r\n          {\r\n            <li className='nav-item mx-3'>\r\n              <Link to=\"/\" className='nav-link'>Home</Link>\r\n            </li>\r\n          }\r\n\r\n          <li className='nav-item mx-3'>\r\n            <button className='btn btn-danger' onClick={handleLogout}>Logout</button>\r\n          </li>\r\n\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { jsPDF } from \"jspdf\";\r\n\r\nconst CertificateGenerator = ({ user, donationDate, hospital }) => {\r\n    const generateCertificate = () => {\r\n        const canvas = document.createElement(\"canvas\");\r\n        const ctx = canvas.getContext(\"2d\");\r\n        const img = new Image();\r\n        img.src = \"/IMG-20250323-WA0085.jpg\"; // Ensure this image is in the public folder\r\n\r\n        img.onload = () => {\r\n            // Set canvas size to match the image\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n\r\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n            ctx.font = \"bold 48px Arial\";\r\n            ctx.fillStyle = \"Black\";\r\n            ctx.textAlign = \"center\";\r\n            ctx.fillText(user, canvas.width / 2, 450); \r\n\r\n            // Add donation details\r\n            ctx.font = \"italic 20px Arial\";\r\n            ctx.fillText(`Hospital: ${hospital}, Donation Date: ${new Date(donationDate).toLocaleDateString()}`, canvas.width / 2, 490);\r\n\r\n            // Add closing message\r\n            ctx.font = \"italic 20px Arial\";\r\n            ctx.fillText(\"Together, we save lives!\", canvas.width / 2, 860);\r\n\r\n            // Convert to image and generate PDF\r\n            const imgData = canvas.toDataURL(\"image/png\");\r\n            const pdf = new jsPDF(\"landscape\", \"mm\", \"a4\");\r\n            pdf.addImage(imgData, \"PNG\", 0, 0, 297, 210);\r\n            pdf.save(`Blood_Donation_Certificate_${user}.pdf`);\r\n        };\r\n    };\r\n\r\n    generateCertificate();\r\n};\r\n\r\nexport default CertificateGenerator;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Layout from \"../../components/shared/Layout/Layout\";\r\nimport API from \"../../services/API\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport CertificateGenerator from \"../../components/shared/download/generate\"; // Import the Certificate Generator\r\n\r\nconst DonorPage = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const [donationHistory, setDonationHistory] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    API.get(\"/inventory/donation-history\")\r\n      .then((response) => {\r\n        if (response.data.success && response.data.data) {\r\n          setDonationHistory(response.data.data);\r\n        } else {\r\n          setDonationHistory([]);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\r\n          \"There was an error fetching the donation history!\",\r\n          error\r\n        );\r\n      });\r\n  }, []);\r\n\r\n  const handleDownload = (donationDate, hospitalName) => {\r\n    CertificateGenerator({\r\n      user: user.name,\r\n      donationDate,\r\n      hospital: hospitalName,\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container mt-4\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <h1>\r\n            Welcome <i className=\"text-success\">{user?.name}</i>\r\n          </h1>\r\n          <h3>Blood Donor</h3>\r\n          <hr className=\"w-100\" />\r\n          <h4>Donation History</h4>\r\n          {donationHistory.length === 0 ? (\r\n            <p>No records available</p>\r\n          ) : (\r\n            <table className=\"table mt-3\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Hospital Name</th>\r\n                  <th>Address</th>\r\n                  <th>Date</th>\r\n                  <th>Download</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {donationHistory.map((record, index) => (\r\n                  <tr key={index}>\r\n                    <td>{record.hospitalName || \"N/A\"}</td>\r\n                    <td>{record.address || \"N/A\"}</td>\r\n                    <td>\r\n                      {record.donatedDate\r\n                        ? new Date(record.donatedDate).toLocaleDateString()\r\n                        : \"N/A\"}\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() =>\r\n                          handleDownload(record.donatedDate, record.hospitalName)\r\n                        }\r\n                      >\r\n                        Download\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n          <p className=\"mt-4\">\r\n            Happy donating{\" \"}\r\n            <button\r\n              onClick={() => navigate(\"/donation\")}\r\n              style={{\r\n                cursor: \"pointer\",\r\n                background: \"none\",\r\n                border: \"none\",\r\n                padding: 0,\r\n                color: \"red\",\r\n              }}\r\n            >\r\n              Blood!\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DonorPage;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport \"../../../Styles/Layout.css\";\r\n\r\nconst Sidebar = () => {\r\n  const location = useLocation();\r\n  const { user } = useSelector(state => state.auth);\r\n\r\n  // Sidebar menu based on user roles\r\n  const sidebarMenu = {\r\n    donor: [\r\n      { path: \"/donation\", name: \"Donation\", icon: \"fa-solid fa-hand-holding-medical\" },\r\n    ],\r\n    hospital: [\r\n      { path: \"/consumer\", name: \"Consumer\", icon: \"fa-solid fa-hospital\" },\r\n    ],\r\n    admin: [\r\n      { path: \"/donor-list\", name: \"Donor List\", icon: \"fa-solid fa-hand-holding-medical\" },\r\n      { path: \"/hospital-list\", name: \"Hospital List\", icon: \"fa-solid fa-hospital\" },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"menu\">\r\n        {(sidebarMenu[user?.role] || []).map((item) => (\r\n          <div\r\n            key={item.path}\r\n            className={`menu-item ${location.pathname === item.path ? \"active\" : \"\"}`}\r\n          >\r\n            <i className={item.icon}></i>\r\n            <Link to={item.path}>{item.name}</Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <>\r\n      {/* Header */}\r\n      <div className=\"header fixed-top shadow-sm bg-light\">\r\n        <Header />\r\n      </div>\r\n\r\n      {/* Sidebar + Main Content */}\r\n      <div className=\"d-flex\">\r\n        {/* Sidebar */}\r\n        <div className=\"sidebar\">\r\n          <Sidebar />\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"content col-md-9\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"names":["Header","user","useSelector","state","auth","dispatch","useDispatch","navigate","useNavigate","CustomCloseButton","_ref","closeToast","_jsxs","children","_jsx","className","onClick","confirmLogout","confirm","logout","toast","success","dismiss","BiDonateBlood","color","size","BiUserCircle","name","hospitalName","role","Link","to","handleLogout","warn","position","autoClose","closeOnClick","draggable","closeButton","props","donationDate","hospital","generateCertificate","canvas","document","createElement","ctx","getContext","img","Image","src","onload","width","height","drawImage","font","fillStyle","textAlign","fillText","Date","toLocaleDateString","imgData","toDataURL","pdf","jsPDF","addImage","save","DonorPage","donationHistory","setDonationHistory","useState","useEffect","API","get","then","response","data","catch","error","console","Layout","length","map","record","index","address","donatedDate","handleDownload","CertificateGenerator","style","cursor","background","border","padding","Sidebar","location","useLocation","donor","path","icon","admin","item","pathname","_Fragment"],"sourceRoot":""}